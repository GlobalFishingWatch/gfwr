<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>`gfwr`: Access data from Global Fishing Watch APIs • gfwr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="`gfwr`: Access data from Global Fishing Watch APIs">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-WXTMN69');</script><!-- End Google Tag Manager -->
</head>
<body data-spy="scroll" data-target="#toc">
    <!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WXTMN69" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gfwr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/gfwr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/identity.html">Using `get_vessel_info()`: the basics of vessel identity in `gfwr`</a>
    </li>
    <li>
      <a href="../articles/making-maps.html">Making maps with `gfwr`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/GlobalFishingWatch/gfwr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>
<code>gfwr</code>: Access data from Global
Fishing Watch APIs</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/GlobalFishingWatch/gfwr/blob/HEAD/vignettes/articles/gfwr.Rmd" class="external-link"><code>vignettes/articles/gfwr.Rmd</code></a></small>
      <div class="hidden name"><code>gfwr.Rmd</code></div>

    </div>

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div class="section level2">
<h2 id="gfwr-access-data-from-global-fishing-watch-apis">
<code>gfwr</code>: Access data from Global Fishing Watch APIs
<img src="gfwr_hex_rgb.png" align="right" width="200px"><a class="anchor" aria-label="anchor" href="#gfwr-access-data-from-global-fishing-watch-apis"></a>
</h2>
<!-- badges: start -->
<p><a href="https://zenodo.org/badge/latestdoi/450635054" class="external-link"><img src="https://zenodo.org/badge/450635054.svg" alt="DOI"></a> <a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active - The project has reached a stable, usable state and is being actively developed."></a>
<a href="https://opensource.org/licenses/Apache-2.0" class="external-link"><img src="https://img.shields.io/badge/license-Apache%202-blue" alt="Licence"></a> <a href="https://github.com/r-universe/globalfishingwatch/actions/workflows/sync.yml" class="external-link"><img src="https://globalfishingwatch.r-universe.dev/badges/:registry" alt=":registry status badge"></a> <!-- badges: end --></p>
<p>The <code>gfwr</code> R package is a simple wrapper for the Global
Fishing Watch (GFW) <a href="https://globalfishingwatch.org/our-apis/documentation#introduction" class="external-link">APIs</a>.
It provides convenient functions to freely pull GFW data directly into R
in tidy formats.</p>
<p>The package currently works with the following APIs:</p>
<ul>
<li>
<a href="https://globalfishingwatch.org/our-apis/documentation#vessels-api" class="external-link">Vessels
API</a>: vessel search and identity based on AIS self reported data and
public registry information</li>
<li>
<a href="https://globalfishingwatch.org/our-apis/documentation#events-api" class="external-link">Events
API</a>: encounters, loitering, port visits, AIS-disabling events and
fishing events based on AIS data</li>
<li>
<a href="https://globalfishingwatch.org/our-apis/documentation#map-visualization-4wings-api" class="external-link">Gridded
fishing effort (4Wings API)</a>: apparent fishing effort based on AIS
data</li>
</ul>
<blockquote>
<p><strong>Note</strong>: See the <a href="https://globalfishingwatch.org/our-apis/documentation#reference-data" class="external-link">Terms
of Use</a> page for GFW APIs for information on our API licenses and
rate limits.</p>
</blockquote>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>You can install the most recent version of <code>gfwr</code>
using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check/install remotes</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://remotes.r-lib.org" class="external-link">"remotes"</a></span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"GlobalFishingWatch/gfwr"</span><span class="op">)</span></span></code></pre></div>
<p><code>gfwr</code> is also in the rOpenSci <a href="https://globalfishingwatch.r-universe.dev/gfwr#" class="external-link">R-universe</a>,
and can be installed like this:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"gfwr"</span>, </span>
<span>                 repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://globalfishingwatch.r-universe.dev"</span>,</span>
<span>                           <span class="st">"https://cran.r-project.org"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Once everything is installed, you can load and use <code>gfwr</code>
in your scripts with <code><a href="https://github.com/GlobalFishingWatch/gfwr" class="external-link">library(gfwr)</a></code></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/GlobalFishingWatch/gfwr" class="external-link">gfwr</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="authorization">Authorization<a class="anchor" aria-label="anchor" href="#authorization"></a>
</h3>
<p>The use of <code>gfwr</code> requires a GFW API token, which users
can request from the <a href="https://globalfishingwatch.org/our-apis/tokens" class="external-link">GFW API
Portal</a>. Save this token to your <code>.Renviron</code> file using
<code><a href="https://usethis.r-lib.org/reference/edit.html" class="external-link">usethis::edit_r_environ()</a></code> and adding a variable named
<code>GFW_TOKEN</code> to the file
(<code>GFW_TOKEN="PASTE_YOUR_TOKEN_HERE"</code>). Save the
<code>.Renviron</code> file and restart the R session to make the edit
effective.</p>
<p>Then use the <code><a href="../reference/gfw_auth.html">gfw_auth()</a></code> helper function to inform the
key on your function calls. You can use <code><a href="../reference/gfw_auth.html">gfw_auth()</a></code> directly
or save the information to an object in your R workspace every time and
pass it to subsequent <code>gfwr</code> functions.</p>
<p>So you can do:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">key</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gfw_auth.html">gfw_auth</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>or this</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">key</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"GFW_TOKEN"</span><span class="op">)</span></span></code></pre></div>
<blockquote>
<p><strong>Note</strong>: <code>gfwr</code> functions are set to use
<code>key = gfw_auth()</code> by default.</p>
</blockquote>
</div>
<div class="section level3">
<h3 id="vessels-api">Vessels API<a class="anchor" aria-label="anchor" href="#vessels-api"></a>
</h3>
<p>The <code><a href="../reference/get_vessel_info.html">get_vessel_info()</a></code> function allows you to get vessel
identity details from the <a href="https://globalfishingwatch.org/our-apis/documentation#introduction-vessels-api" class="external-link">GFW
Vessels API</a>.</p>
<p>There are two search types: <code>search</code>, and
<code>id</code>.</p>
<ul>
<li>
<code>search</code> is performed by using parameters
<code>query</code> for basic searches and <code>where</code> for
advanced searchers using SQL expressions
<ul>
<li>
<code>query</code> takes a single identifier that can be the MMSI,
IMO, callsign, or shipname as input and identifies all vessels that
match.</li>
<li>
<code>where</code> search allows for the use of complex search with
logical clauses (AND, OR) and fuzzy matching with terms such as LIKE,
using SQL syntax (see examples in the function)</li>
<li>
<code>includes</code> adds information from public registries.
Options are “MATCH_CRITERIA”, “OWNERSHIP” and “AUTHORIZATIONS”</li>
</ul>
</li>
</ul>
<div class="section level4">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h4>
<p>To get information of a vessel using its MMSI, IMO number, callsign
or name, the search can be done directly using the number or the string.
For example, to look for a vessel with
<code>MMSI = 224224000</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_vessel_info.html">get_vessel_info</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fl">224224000</span>,</span>
<span>                search_type <span class="op">=</span> <span class="st">"search"</span>,</span>
<span>                key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; 1 total vessels</span></span>
<span><span class="co">#&gt; $dataset</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   dataset                           </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> public-global-vessel-identity:v3.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryInfoTotalRecords</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   registryInfoTotalRecords</span></span>
<span><span class="co">#&gt;                      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>                        1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 16</span></span></span>
<span><span class="co">#&gt;   index recordId        sourceCode ssvid flag  shipname nShipname callsign imo  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 e0c9823749264a… <span style="color: #949494;">&lt;chr [6]&gt;</span>  2242… ESP   AGURTZA… AGURTZAB… EBSJ     8733…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: transmissionDateFrom &lt;chr&gt;, transmissionDateTo &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   geartypes &lt;chr&gt;, lengthM &lt;dbl&gt;, tonnageGt &lt;int&gt;, vesselInfoReference &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   extraFields &lt;list&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryOwners</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 2</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 variables: index &lt;dbl&gt;, &lt;list&gt; &lt;list&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryPublicAuthorizations</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 5</span></span></span>
<span><span class="co">#&gt;   index dateFrom             dateTo               ssvid     sourceCode</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 2019-01-01T00:00:00Z 2019-10-01T00:00:00Z 224224000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 2012-01-01T00:00:00Z 2019-01-01T00:00:00Z 224224000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 2019-10-15T00:00:00Z 2023-02-01T00:00:00Z 306118000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $combinedSourcesInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 10</span></span></span>
<span><span class="co">#&gt;   index vesselId              geartypes_name geartypes_source geartypes_yearFrom</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 6632c9eb8-8009-abdb-… PURSE_SEINE_S… GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>019</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 3c99c326d-dd2e-175d-… PURSE_SEINE_S… GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>015</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: geartypes_yearTo &lt;int&gt;, shiptypes_name &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   shiptypes_source &lt;chr&gt;, shiptypes_yearFrom &lt;int&gt;, shiptypes_yearTo &lt;int&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $selfReportedInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 14</span></span></span>
<span><span class="co">#&gt;   index vesselId   ssvid shipname nShipname flag  callsign imo   messagesCounter</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 6632c9eb8… 3061… AGURTZA… AGURTZAB… BES   PJBL     8733…          <span style="text-decoration: underline;">418</span>581</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 3c99c326d… 2242… AGURTZA… AGURTZAB… ESP   EBSJ     8733…          <span style="text-decoration: underline;">135</span>057</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: positionsCounter &lt;int&gt;, sourceCode &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   matchFields &lt;chr&gt;, transmissionDateFrom &lt;chr&gt;, transmissionDateTo &lt;chr&gt;</span></span></span></code></pre></div>
<p>To do more specific searches (<code>imo = '8300949'</code>), combine
different fields (<code>imo = '8300949' AND ssvid = '214182732'</code>)
and do fuzzy matching
(<code>"shipname LIKE '%GABU REEFE%' OR imo = '8300949'"</code>), use
parameter <code>where</code> instead of <code>query</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_vessel_info.html">get_vessel_info</a></span><span class="op">(</span>where <span class="op">=</span> <span class="st">"shipname LIKE '%GABU REEFE%' OR imo = '8300949'"</span>,</span>
<span>                search_type <span class="op">=</span> <span class="st">"search"</span>,</span>
<span>                key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; 1 total vessels</span></span>
<span><span class="co">#&gt; $dataset</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   dataset                           </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> public-global-vessel-identity:v3.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryInfoTotalRecords</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   registryInfoTotalRecords</span></span>
<span><span class="co">#&gt;                      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>                        1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 17</span></span></span>
<span><span class="co">#&gt;   index recordId        sourceCode ssvid flag  shipname nShipname callsign imo  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 b16ca93ea690fc… <span style="color: #949494;">&lt;chr [2]&gt;</span>  6290… GMB   GABU RE… GABUREEF… C5J278   8300…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 8 more variables: latestVesselInfo &lt;lgl&gt;, transmissionDateFrom &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   transmissionDateTo &lt;chr&gt;, geartypes &lt;chr&gt;, lengthM &lt;dbl&gt;, tonnageGt &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vesselInfoReference &lt;chr&gt;, extraFields &lt;list&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryOwners</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 7</span></span></span>
<span><span class="co">#&gt;   index name                   flag  ssvid     sourceCode dateFrom        dateTo</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 FISHING CARGO SERVICES PAN   629009266 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2024-08-07T10:… 2025-…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 FISHING CARGO SERVICES PAN   613590000 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2022-01-24T09:… 2024-…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 FISHING CARGO SERVICES PAN   214182732 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2019-02-23T11:… 2022-…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     1 FISHING CARGO SERVICES PAN   616852000 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2012-01-08T19:… 2019-…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryPublicAuthorizations</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 2</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 variables: index &lt;dbl&gt;, &lt;list&gt; &lt;list&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $combinedSourcesInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 10</span></span></span>
<span><span class="co">#&gt;   index vesselId              geartypes_name geartypes_source geartypes_yearFrom</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 9827ea1ea-a120-f374-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>024</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 1da8dbc23-3c48-d5ce-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>022</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 0b7047cb5-58c8-6e63-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>019</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     1 58cf536b1-1fca-dac3-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>012</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: geartypes_yearTo &lt;int&gt;, shiptypes_name &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   shiptypes_source &lt;chr&gt;, shiptypes_yearFrom &lt;int&gt;, shiptypes_yearTo &lt;int&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $selfReportedInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 14</span></span></span>
<span><span class="co">#&gt;   index vesselId   ssvid shipname nShipname flag  callsign imo   messagesCounter</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 9827ea1ea… 6290… GABU RE… GABUREEF… GMB   C5J278   8300…          <span style="text-decoration: underline;">306</span>734</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 1da8dbc23… 6135… GABU RE… GABUREEF… CMR   TJMC996  8300…          <span style="text-decoration: underline;">973</span>251</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 0b7047cb5… 2141… GABU RE… GABUREEF… MDA   ER2732   8300…          <span style="text-decoration: underline;">642</span>750</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     1 58cf536b1… 6168… GABU RE… GABUREEF… COM   D6FJ2    8300…          <span style="text-decoration: underline;">469</span>834</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: positionsCounter &lt;int&gt;, sourceCode &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   matchFields &lt;chr&gt;, transmissionDateFrom &lt;chr&gt;, transmissionDateTo &lt;chr&gt;</span></span></span></code></pre></div>
<ul>
<li>The <code>id</code> search allows the user to specify a vector of
<code>vesselId</code>s</li>
</ul>
<blockquote>
<p><strong>Note</strong>: <code>vesselId</code> is an internal ID
generated by GFW to connect data accross APIs and involves a combination
of vessel and tracking data information. It can be retrieved using
<code><a href="../reference/get_vessel_info.html">get_vessel_info()</a></code> and fetching the vector of responses
inside <code>$selfReportedInfo$vesselId</code>. See the <a href="https://globalfishingwatch.github.io/gfwr/articles/identity">identity
vignette</a> for more information.</p>
</blockquote>
<p>To search by <code>vesselId</code>, use parameter <code>ids</code>
and specify <code>search_type = "id"</code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_vessel_info.html">get_vessel_info</a></span><span class="op">(</span>ids <span class="op">=</span> <span class="st">"8c7304226-6c71-edbe-0b63-c246734b3c01"</span>,</span>
<span>                search_type <span class="op">=</span> <span class="st">"id"</span>,</span>
<span>                key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; 1 total vessels</span></span>
<span><span class="co">#&gt; $dataset</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   dataset                           </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> public-global-vessel-identity:v3.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryInfoTotalRecords</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 1</span></span></span>
<span><span class="co">#&gt;   registryInfoTotalRecords</span></span>
<span><span class="co">#&gt;                      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>                        5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 17</span></span></span>
<span><span class="co">#&gt;   index recordId        sourceCode ssvid flag  shipname nShipname callsign imo  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [3]&gt;</span>  2733… RUS   FRIO FO… FRIOFORW… UCRZ     9076…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [2]&gt;</span>  5111… PLW   FRIO FO… FRIOFORW… T8A4891  9076…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [6]&gt;</span>  2106… CYP   FRIO FO… FRIOFORW… 5BWC3    9076…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [2]&gt;</span>  3413… KNA   FRIO FO… FRIOFORW… V4JQ3    9076…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [2]&gt;</span>  3546… PAN   FRIO AE… FRIOAEGE… 3FGY4    9076…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 8 more variables: latestVesselInfo &lt;lgl&gt;, transmissionDateFrom &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   transmissionDateTo &lt;chr&gt;, geartypes &lt;chr&gt;, lengthM &lt;int&gt;, tonnageGt &lt;int&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vesselInfoReference &lt;chr&gt;, extraFields &lt;list&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryOwners</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 7</span></span></span>
<span><span class="co">#&gt;   index name    flag  ssvid     sourceCode dateFrom             dateTo          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 COLINER RUS   273379740 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2015-02-27T10:59:43Z 2025-01-31T23:5…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 COLINER CYP   511101495 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2024-07-04T14:27:04Z 2024-07-24T14:2…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 COLINER CYP   210631000 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2013-05-15T20:19:43Z 2024-07-04T14:1…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryPublicAuthorizations</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 5</span></span></span>
<span><span class="co">#&gt;   index dateFrom             dateTo               ssvid     sourceCode</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 2023-01-01T00:00:00Z 2024-12-31T00:00:00Z 210631000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 2020-01-01T00:00:00Z 2024-12-01T00:00:00Z 210631000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 2024-08-09T00:00:00Z 2024-12-01T00:00:00Z 273379740 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $combinedSourcesInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 10</span></span></span>
<span><span class="co">#&gt;   index vesselId              geartypes_name geartypes_source geartypes_yearFrom</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 da1cd7e1b-b8d0-539c-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>015</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 3c81a942b-bf0a-f476-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>015</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 8c7304226-6c71-edbe-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>013</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     1 0cb77880e-ee49-2ce4-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>012</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     1 0edad163f-f53d-9ddb-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>024</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: geartypes_yearTo &lt;int&gt;, shiptypes_name &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   shiptypes_source &lt;chr&gt;, shiptypes_yearFrom &lt;int&gt;, shiptypes_yearTo &lt;int&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $selfReportedInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 14</span></span></span>
<span><span class="co">#&gt;   index vesselId   ssvid shipname nShipname flag  callsign imo   messagesCounter</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 8c7304226… 2106… FRIO FO… FRIOFORW… CYP   5BWC3    9076…         3<span style="text-decoration: underline;">369</span>802</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: positionsCounter &lt;int&gt;, sourceCode &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   matchFields &lt;chr&gt;, transmissionDateFrom &lt;chr&gt;, transmissionDateTo &lt;chr&gt;</span></span></span></code></pre></div>
<p>To specify more than one <code>vesselId</code>, you can submit a
vector:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_vessel_info.html">get_vessel_info</a></span><span class="op">(</span>ids <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"8c7304226-6c71-edbe-0b63-c246734b3c01"</span>,</span>
<span>                        <span class="st">"6583c51e3-3626-5638-866a-f47c3bc7ef7c"</span>,</span>
<span>                        <span class="st">"71e7da672-2451-17da-b239-857831602eca"</span><span class="op">)</span>,</span>
<span>                search_type <span class="op">=</span> <span class="st">'id'</span>,</span>
<span>                key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; 3 total vessels</span></span>
<span><span class="co">#&gt; $dataset</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 1</span></span></span>
<span><span class="co">#&gt;   dataset                           </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                             </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> public-global-vessel-identity:v3.0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> public-global-vessel-identity:v3.0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> public-global-vessel-identity:v3.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryInfoTotalRecords</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 1</span></span></span>
<span><span class="co">#&gt;   registryInfoTotalRecords</span></span>
<span><span class="co">#&gt;                      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>                        5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>                        1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>                        2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 17</span></span></span>
<span><span class="co">#&gt;   index recordId        sourceCode ssvid flag  shipname nShipname callsign imo  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [3]&gt;</span>  2733… RUS   FRIO FO… FRIOFORW… UCRZ     9076…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [2]&gt;</span>  5111… PLW   FRIO FO… FRIOFORW… T8A4891  9076…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [6]&gt;</span>  2106… CYP   FRIO FO… FRIOFORW… 5BWC3    9076…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [2]&gt;</span>  3413… KNA   FRIO FO… FRIOFORW… V4JQ3    9076…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     1 a8d00ce54b37ad… <span style="color: #949494;">&lt;chr [2]&gt;</span>  3546… PAN   FRIO AE… FRIOAEGE… 3FGY4    9076…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>     2 685862e0626f62… <span style="color: #949494;">&lt;chr [5]&gt;</span>  5480… PHL   JOHNREY… JOHNREYN… DUQA7    8118…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>     3 b82d02e5c2c11e… <span style="color: #949494;">&lt;chr [5]&gt;</span>  4417… KOR   ADRIA    ADRIA     DTBY3    8919…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>     3 b82d02e5c2c11e… <span style="color: #949494;">&lt;chr [4]&gt;</span>  4417… KOR   PREMIER  PREMIER   DTBY3    8919…</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 8 more variables: latestVesselInfo &lt;lgl&gt;, transmissionDateFrom &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   transmissionDateTo &lt;chr&gt;, geartypes &lt;chr&gt;, lengthM &lt;dbl&gt;, tonnageGt &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vesselInfoReference &lt;chr&gt;, extraFields &lt;list&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryOwners</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 7</span></span></span>
<span><span class="co">#&gt;   index name                          flag  ssvid     sourceCode dateFrom dateTo</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 COLINER                       RUS   273379740 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2015-02… 2025-…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 COLINER                       CYP   511101495 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2024-07… 2024-…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 COLINER                       CYP   210631000 <span style="color: #949494;">&lt;chr [1]&gt;</span>  2013-05… 2024-…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     2 TRANS PACIFIC JOURNEY FISHING PHL   548012100 <span style="color: #949494;">&lt;chr [4]&gt;</span>  2017-02… 2019-…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     3 DONGWON INDUSTRIES            KOR   441734000 <span style="color: #949494;">&lt;chr [2]&gt;</span>  2013-09… 2024-…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $registryPublicAuthorizations</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 5</span></span></span>
<span><span class="co">#&gt;   index dateFrom             dateTo               ssvid     sourceCode</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 2023-01-01T00:00:00Z 2024-12-31T00:00:00Z 210631000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 2020-01-01T00:00:00Z 2024-12-01T00:00:00Z 210631000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 2024-08-09T00:00:00Z 2024-12-01T00:00:00Z 273379740 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     2 2012-01-01T00:00:00Z 2017-10-25T00:00:00Z 548012100 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     2 2019-02-10T18:02:49Z 2025-01-01T00:00:00Z 548012100 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>     3 2015-10-08T00:00:00Z 2020-07-21T00:00:00Z 441734000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>     3 2012-01-01T00:00:00Z 2013-09-19T00:00:00Z 441734000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>     3 2013-09-20T00:00:00Z 2025-01-01T00:00:00Z 441734000 <span style="color: #949494;">&lt;chr [1]&gt;</span> </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $combinedSourcesInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 10</span></span></span>
<span><span class="co">#&gt;   index vesselId              geartypes_name geartypes_source geartypes_yearFrom</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 da1cd7e1b-b8d0-539c-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>015</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 3c81a942b-bf0a-f476-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>015</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     1 8c7304226-6c71-edbe-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>013</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     1 0cb77880e-ee49-2ce4-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>012</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>     1 0edad163f-f53d-9ddb-… CARRIER        GFW_VESSEL_LIST                <span style="text-decoration: underline;">2</span>024</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>     2 71e7da672-2451-17da-… TUNA_PURSE_SE… COMBINATION_OF_…               <span style="text-decoration: underline;">2</span>017</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span>     2 55889aefb-bef9-224c-… TUNA_PURSE_SE… COMBINATION_OF_…               <span style="text-decoration: underline;">2</span>017</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span>     3 aca119c29-95dd-f5c4-… TUNA_PURSE_SE… COMBINATION_OF_…               <span style="text-decoration: underline;">2</span>012</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span>     3 6583c51e3-3626-5638-… TUNA_PURSE_SE… COMBINATION_OF_…               <span style="text-decoration: underline;">2</span>013</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: geartypes_yearTo &lt;int&gt;, shiptypes_name &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   shiptypes_source &lt;chr&gt;, shiptypes_yearFrom &lt;int&gt;, shiptypes_yearTo &lt;int&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $selfReportedInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 14</span></span></span>
<span><span class="co">#&gt;   index vesselId   ssvid shipname nShipname flag  callsign imo   messagesCounter</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 8c7304226… 2106… FRIO FO… FRIOFORW… CYP   5BWC3    9076…         3<span style="text-decoration: underline;">369</span>802</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     2 71e7da672… 5480… JOHN RE… JOHNREYN… PHL   DUQA-7   8118…          <span style="text-decoration: underline;">133</span>081</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     3 6583c51e3… 4417… ADRIA    ADRIA     KOR   DTBY3    <span style="color: #BB0000;">NA</span>             <span style="text-decoration: underline;">360</span>249</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: positionsCounter &lt;int&gt;, sourceCode &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   matchFields &lt;chr&gt;, transmissionDateFrom &lt;chr&gt;, transmissionDateTo &lt;chr&gt;</span></span></span></code></pre></div>
<p>This is useful especially because a vessel can have different
<code>vesselId</code>s in time.</p>
<p><strong>Check the function documentation for examples with the other
function arguments and <a href="https://globalfishingwatch.github.io/gfwr/articles/identity">our
dedicated vignette</a> for more information about vessel identity
markers and the outputs retrieved.</strong></p>
</div>
</div>
<div class="section level3">
<h3 id="events-api">Events API<a class="anchor" aria-label="anchor" href="#events-api"></a>
</h3>
<p>The <code><a href="../reference/get_event.html">get_event()</a></code> function allows you to get data on
specific vessel activities from the <a href="https://globalfishingwatch.org/our-apis/documentation#events-api" class="external-link">GFW
Events API</a>. Event types include apparent fishing events, potential
transshipment events (two-vessel encounters and loitering by
refrigerated carrier vessels), port visits, and AIS-disabling events
(“gaps”). Find more information about events in our <a href="https://globalfishingwatch.org/our-apis/documentation#data-caveat" class="external-link">caveat
documentation</a>.</p>
<div class="section level4">
<h4 id="events-in-a-given-time-range">Events in a given time range<a class="anchor" aria-label="anchor" href="#events-in-a-given-time-range"></a>
</h4>
<p>You can get events in a given date range. By not specifying
<code>vessels</code>, the response will return results for all
vessels.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_event.html">get_event</a></span><span class="op">(</span>event_type <span class="op">=</span> <span class="st">'ENCOUNTER'</span>,</span>
<span>          start_date <span class="op">=</span> <span class="st">"2020-01-01"</span>,</span>
<span>          end_date <span class="op">=</span> <span class="st">"2020-01-02"</span>,</span>
<span>          key <span class="op">=</span> <span class="va">key</span></span>
<span>          <span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Downloading 286 events from GFW"</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 286 × 16</span></span></span>
<span><span class="co">#&gt;    start               end                 eventId        eventType    lat   lon</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2019-12-31 <span style="color: #949494;">17:50:00</span> 2020-01-01 <span style="color: #949494;">16:10:00</span> b8e1833490587… encounter 68.7    50.3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2019-12-31 <span style="color: #949494;">12:00:00</span> 2020-01-01 <span style="color: #949494;">23:20:00</span> 9d99a5cad40f4… encounter 44.5   136. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2019-12-31 <span style="color: #949494;">10:20:00</span> 2020-01-02 <span style="color: #949494;">10:20:00</span> 5d6957fcac61d… encounter  9.49  -<span style="color: #BB0000;">99.1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2019-12-31 <span style="color: #949494;">17:50:00</span> 2020-01-01 <span style="color: #949494;">16:10:00</span> b8e1833490587… encounter 68.7    50.3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2019-12-28 <span style="color: #949494;">00:20:00</span> 2020-01-01 <span style="color: #949494;">23:40:00</span> 2f326a52b9b48… encounter 43.4   135. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-01-01 <span style="color: #949494;">15:00:00</span> 2020-01-01 <span style="color: #949494;">17:50:00</span> fe7921dafc86c… encounter  9.49  -<span style="color: #BB0000;">99.1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-01-01 <span style="color: #949494;">06:00:00</span> 2020-01-01 <span style="color: #949494;">08:30:00</span> 8822076ecce81… encounter 34.7   129. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-01-01 <span style="color: #949494;">00:00:00</span> 2020-01-01 <span style="color: #949494;">02:40:00</span> 3b109ab4e8fc4… encounter 34.7   129. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-01-01 <span style="color: #949494;">00:20:00</span> 2020-01-01 <span style="color: #949494;">04:30:00</span> 51ecd07a3e058… encounter -<span style="color: #BB0000;">0.866</span> 154. </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-01-01 <span style="color: #949494;">21:20:00</span> 2020-01-01 <span style="color: #949494;">23:50:00</span> 9d4338d0f08af… encounter  0.487 177. </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 276 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 10 more variables: regions &lt;list&gt;, boundingBox &lt;list&gt;, distances &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vesselId &lt;chr&gt;, vessel_name &lt;chr&gt;, vessel_ssvid &lt;chr&gt;, vessel_flag &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vessel_type &lt;chr&gt;, vessel_publicAuthorizations &lt;list&gt;, event_info &lt;list&gt;</span></span></span></code></pre></div>
<blockquote>
<p><em>Note</em>: We do not recommend trying too large downloads, such
as all encounters for all vessels over a long period of time. This will
possibly return time out (524) errors. Our API team is working on a bulk
download solution for the future.</p>
</blockquote>
</div>
<div class="section level4">
<h4 id="events-in-a-specific-area">Events in a specific area<a class="anchor" aria-label="anchor" href="#events-in-a-specific-area"></a>
</h4>
<p>You can provide a polygon in <code>sf</code> format or the region
code (such as an EEZ code) to filter the raster. Check the function
documentation for more information about parameters <code>region</code>
and <code>region_source</code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="co"># fishing events in user shapefile</span></span>
<span><span class="va">test_polygon</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html" class="external-link">st_bbox</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>xmin <span class="op">=</span> <span class="op">-</span><span class="fl">70</span>, xmax <span class="op">=</span> <span class="op">-</span><span class="fl">40</span>, ymin <span class="op">=</span> <span class="op">-</span><span class="fl">10</span>, ymax <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span>  crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sfc.html" class="external-link">st_as_sfc</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/get_event.html">get_event</a></span><span class="op">(</span>event_type <span class="op">=</span> <span class="st">'FISHING'</span>,</span>
<span>               start_date <span class="op">=</span> <span class="st">"2020-10-01"</span>,</span>
<span>               end_date <span class="op">=</span> <span class="st">"2020-10-31"</span>,</span>
<span>               region <span class="op">=</span> <span class="va">test_polygon</span>,</span>
<span>               region_source <span class="op">=</span> <span class="st">'USER_SHAPEFILE'</span>,</span>
<span>               key <span class="op">=</span> <span class="fu"><a href="../reference/gfw_auth.html">gfw_auth</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Downloading 59 events from GFW"</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 59 × 16</span></span></span>
<span><span class="co">#&gt;    start               end                 eventId       eventType     lat   lon</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-10-01 <span style="color: #949494;">12:54:31</span> 2020-10-01 <span style="color: #949494;">21:26:31</span> 083f87bff859… fishing    4.75   -<span style="color: #BB0000;">51.6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-10-03 <span style="color: #949494;">05:50:14</span> 2020-10-05 <span style="color: #949494;">03:35:27</span> b68b49e7e365… fishing    4.73   -<span style="color: #BB0000;">51.5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-10-18 <span style="color: #949494;">00:18:32</span> 2020-10-18 <span style="color: #949494;">04:04:43</span> 2fd3ab7d1655… fishing    0.449  -<span style="color: #BB0000;">47.8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2020-10-22 <span style="color: #949494;">01:59:54</span> 2020-10-22 <span style="color: #949494;">03:58:15</span> 2ed40086d273… fishing   -<span style="color: #BB0000;">0.063</span><span style="color: #BB0000; text-decoration: underline;">5</span> -<span style="color: #BB0000;">47.8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2020-10-19 <span style="color: #949494;">17:59:09</span> 2020-10-19 <span style="color: #949494;">19:04:28</span> 991beb5e3097… fishing    0.541  -<span style="color: #BB0000;">47.8</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-10-03 <span style="color: #949494;">21:08:06</span> 2020-10-04 <span style="color: #949494;">03:31:11</span> 3ce13bbe2752… fishing    4.75   -<span style="color: #BB0000;">51.6</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-10-21 <span style="color: #949494;">12:16:04</span> 2020-10-21 <span style="color: #949494;">21:10:32</span> 7b723d79331b… fishing    4.71   -<span style="color: #BB0000;">51.5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-10-17 <span style="color: #949494;">06:06:57</span> 2020-10-18 <span style="color: #949494;">20:00:32</span> 8404b41048fc… fishing    4.72   -<span style="color: #BB0000;">51.5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-10-21 <span style="color: #949494;">23:23:14</span> 2020-10-22 <span style="color: #949494;">18:05:07</span> b4600d56f238… fishing    4.69   -<span style="color: #BB0000;">51.5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-10-01 <span style="color: #949494;">12:09:55</span> 2020-10-02 <span style="color: #949494;">22:03:36</span> d8ed35e85829… fishing    4.73   -<span style="color: #BB0000;">51.5</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 49 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 10 more variables: regions &lt;list&gt;, boundingBox &lt;list&gt;, distances &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vesselId &lt;chr&gt;, vessel_name &lt;chr&gt;, vessel_ssvid &lt;chr&gt;, vessel_flag &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vessel_type &lt;chr&gt;, vessel_publicAuthorizations &lt;list&gt;, event_info &lt;list&gt;</span></span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="events-for-specific-vessels">Events for specific vessels<a class="anchor" aria-label="anchor" href="#events-for-specific-vessels"></a>
</h4>
<p>To extract events for specific vessels, the Events API needs
<code>vesselId</code> as input, so you always need to use
<code><a href="../reference/get_vessel_info.html">get_vessel_info()</a></code> first to extract <code>vesselId</code>
from <code>$selfReportedInfo</code> in the response.</p>
<div class="section level5">
<h5 id="single-vessel-events">Single vessel events<a class="anchor" aria-label="anchor" href="#single-vessel-events"></a>
</h5>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vessel_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_vessel_info.html">get_vessel_info</a></span><span class="op">(</span>query <span class="op">=</span> <span class="fl">224224000</span>, key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; 1 total vessels</span></span>
<span><span class="va">vessel_info</span><span class="op">$</span><span class="va">selfReportedInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 14</span></span></span>
<span><span class="co">#&gt;   index vesselId   ssvid shipname nShipname flag  callsign imo   messagesCounter</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     1 6632c9eb8… 3061… AGURTZA… AGURTZAB… BES   PJBL     8733…          <span style="text-decoration: underline;">418</span>581</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     1 3c99c326d… 2242… AGURTZA… AGURTZAB… ESP   EBSJ     8733…          <span style="text-decoration: underline;">135</span>057</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: positionsCounter &lt;int&gt;, sourceCode &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   matchFields &lt;chr&gt;, transmissionDateFrom &lt;chr&gt;, transmissionDateTo &lt;chr&gt;</span></span></span></code></pre></div>
<p>The results show this vessel’s story is grouped in two
<code>vesselIds</code>.</p>
<p>To get a list of port visits for that vessel, you can use a single
<code>vesselId</code> of your interest:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">id</span> <span class="op">&lt;-</span> <span class="va">vessel_info</span><span class="op">$</span><span class="va">selfReportedInfo</span><span class="op">$</span><span class="va">vesselId</span></span>
<span><span class="va">id</span></span>
<span><span class="co">#&gt; [1] "6632c9eb8-8009-abdb-baf9-b67d65f20510"</span></span>
<span><span class="co">#&gt; [2] "3c99c326d-dd2e-175d-626f-a3c488a4342b"</span></span>
<span></span>
<span><span class="fu"><a href="../reference/get_event.html">get_event</a></span><span class="op">(</span>event_type <span class="op">=</span> <span class="st">'PORT_VISIT'</span>,</span>
<span>          vessels <span class="op">=</span> <span class="va">id</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>          confidences <span class="op">=</span> <span class="fl">4</span>,</span>
<span>          key <span class="op">=</span> <span class="va">key</span></span>
<span>          <span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Downloading 25 events from GFW"</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 25 × 15</span></span></span>
<span><span class="co">#&gt;    start               end                 eventId        eventType   lat    lon</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-08-19 <span style="color: #949494;">09:44:55</span> 2020-08-19 <span style="color: #949494;">18:39:59</span> 724b8c1b2fb6d… port_vis… 16.9  -<span style="color: #BB0000;">25.0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-08-08 <span style="color: #949494;">06:40:40</span> 2020-08-10 <span style="color: #949494;">08:13:39</span> acd48bf28e6b3… port_vis… 14.6  -<span style="color: #BB0000;">17.4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2021-10-17 <span style="color: #949494;">09:52:51</span> 2021-10-17 <span style="color: #949494;">16:06:40</span> d133e151d9edd… port_vis… 14.6  -<span style="color: #BB0000;">17.4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2019-12-06 <span style="color: #949494;">11:02:09</span> 2019-12-11 <span style="color: #949494;">10:20:04</span> bcd967c59306c… port_vis…  5.20  -<span style="color: #BB0000;">4.04</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2021-05-19 <span style="color: #949494;">22:46:40</span> 2021-06-08 <span style="color: #949494;">08:54:49</span> ed0ffc8600077… port_vis… 14.7  -<span style="color: #BB0000;">17.4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-01-27 <span style="color: #949494;">08:04:38</span> 2020-02-23 <span style="color: #949494;">10:18:02</span> abed2e0c06e4e… port_vis… 16.9  -<span style="color: #BB0000;">25.0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-04-19 <span style="color: #949494;">06:16:46</span> 2020-04-21 <span style="color: #949494;">14:02:19</span> 5ad5c93c5448d… port_vis… 28.1  -<span style="color: #BB0000;">15.4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-06-25 <span style="color: #949494;">09:13:36</span> 2020-06-25 <span style="color: #949494;">20:31:10</span> 29863e18bfa98… port_vis… 16.9  -<span style="color: #BB0000;">25.0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-06-20 <span style="color: #949494;">12:33:45</span> 2020-06-20 <span style="color: #949494;">19:43:10</span> a8f5401a3bbec… port_vis… 14.6  -<span style="color: #BB0000;">17.4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-05-05 <span style="color: #949494;">06:52:54</span> 2020-05-07 <span style="color: #949494;">14:22:35</span> 729df630342f0… port_vis…  5.20  -<span style="color: #BB0000;">4.02</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 15 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 9 more variables: regions &lt;list&gt;, boundingBox &lt;list&gt;, distances &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vesselId &lt;chr&gt;, vessel_name &lt;chr&gt;, vessel_ssvid &lt;chr&gt;, vessel_flag &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vessel_type &lt;chr&gt;, event_info &lt;list&gt;</span></span></span></code></pre></div>
<p>But to get the whole event history, you can also use the whole vector
of <code>vesselId</code> for that vessel:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_event.html">get_event</a></span><span class="op">(</span>event_type <span class="op">=</span> <span class="st">'PORT_VISIT'</span>,</span>
<span>          vessels <span class="op">=</span> <span class="va">id</span>, <span class="co">#using the whole vector of vesselIds</span></span>
<span>          confidences <span class="op">=</span> <span class="fl">4</span>,</span>
<span>          key <span class="op">=</span> <span class="va">key</span></span>
<span>          <span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Downloading 74 events from GFW"</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 74 × 15</span></span></span>
<span><span class="co">#&gt;    start               end                 eventId       eventType    lat    lon</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2018-07-09 <span style="color: #949494;">06:50:58</span> 2018-07-10 <span style="color: #949494;">19:13:31</span> c13d6051d577… port_vis…  0.351   6.76</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-08-19 <span style="color: #949494;">09:44:55</span> 2020-08-19 <span style="color: #949494;">18:39:59</span> 724b8c1b2fb6… port_vis… 16.9   -<span style="color: #BB0000;">25.0</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-08-08 <span style="color: #949494;">06:40:40</span> 2020-08-10 <span style="color: #949494;">08:13:39</span> acd48bf28e6b… port_vis… 14.6   -<span style="color: #BB0000;">17.4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2016-05-18 <span style="color: #949494;">19:31:04</span> 2016-05-22 <span style="color: #949494;">14:20:05</span> 8f19c373a1d4… port_vis…  5.20   -<span style="color: #BB0000;">4.02</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2018-12-13 <span style="color: #949494;">18:29:01</span> 2019-02-02 <span style="color: #949494;">17:49:13</span> 1f16a0b1f7e2… port_vis…  5.29   -<span style="color: #BB0000;">4.01</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2018-02-05 <span style="color: #949494;">10:13:21</span> 2018-03-18 <span style="color: #949494;">05:06:54</span> d68f0f1720a4… port_vis… 14.7   -<span style="color: #BB0000;">17.4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2021-08-01 <span style="color: #949494;">12:58:44</span> 2021-08-16 <span style="color: #949494;">16:00:15</span> a26f4940e189… port_vis…  5.20   -<span style="color: #BB0000;">4.02</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2019-08-05 <span style="color: #949494;">07:57:25</span> 2019-08-07 <span style="color: #949494;">14:33:40</span> 86eadd44ab4a… port_vis… 14.6   -<span style="color: #BB0000;">17.4</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-12-14 <span style="color: #949494;">09:46:52</span> 2020-12-22 <span style="color: #949494;">16:54:09</span> 9205a53a7b91… port_vis…  5.20   -<span style="color: #BB0000;">4.04</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2018-11-06 <span style="color: #949494;">17:27:26</span> 2018-11-11 <span style="color: #949494;">09:43:00</span> a1e988d98276… port_vis…  5.23   -<span style="color: #BB0000;">4.02</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 64 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 9 more variables: regions &lt;list&gt;, boundingBox &lt;list&gt;, distances &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vesselId &lt;chr&gt;, vessel_name &lt;chr&gt;, vessel_ssvid &lt;chr&gt;, vessel_flag &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vessel_type &lt;chr&gt;, event_info &lt;list&gt;</span></span></span></code></pre></div>
<blockquote>
<p><em>Note</em>: Try narrowing your search using
<code>start_date</code> and <code>end_date</code> if the request is too
large and returns a time out error (524)</p>
</blockquote>
<p>When a date range is provided to <code><a href="../reference/get_event.html">get_event()</a></code> using both
<code>start_date</code> and <code>end_date</code>, any event overlapping
that range will be returned, including events that start prior to
<code>start_date</code> or end after <code>end_date</code>. If just
<code>start_date</code> or <code>end_date</code> are provided, results
will include all events that end after <code>start_date</code> or begin
prior to <code>end_date</code>, respectively.</p>
<blockquote>
<p><strong>Note</strong>:<br>
Because encounter events are events between two vessels, a single event
will be represented twice in the data, once for each vessel. To capture
this information and link the related data rows, the <code>id</code>
field for encounter events includes an additional suffix (1 or 2)
separated by a period. The <code>vessel</code> field will also contain
different information specific to each vessel.</p>
</blockquote>
</div>
<div class="section level5">
<h5 id="events-for-multiple-vessels">Events for multiple vessels<a class="anchor" aria-label="anchor" href="#events-for-multiple-vessels"></a>
</h5>
<p>As another example, let’s combine the Vessels and Events APIs to get
fishing events for a list of USA-flagged trawlers:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Download the list of USA trawlers</span></span>
<span><span class="va">usa_trawlers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_vessel_info.html">get_vessel_info</a></span><span class="op">(</span></span>
<span>  where <span class="op">=</span> <span class="st">"flag='USA' AND geartypes='TRAWLERS'"</span>,</span>
<span>  search_type <span class="op">=</span> <span class="st">"search"</span>,</span>
<span>  key <span class="op">=</span> <span class="va">key</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">TRUE</span> </span>
<span><span class="op">)</span></span>
<span>  <span class="co"># Set quiet = FALSE if you want an estimate progress of the download</span></span></code></pre></div>
<p>This list returns 6444 <code>vesselIds</code> belonging to 4164
vessels.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">usa_trawlers</span><span class="op">$</span><span class="va">selfReportedInfo</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6,444 × 14</span></span></span>
<span><span class="co">#&gt;    index vesselId  ssvid shipname nShipname flag  callsign imo   messagesCounter</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 64907178… 3662… SUSAN L  SUSANL    USA   WQZ4631  <span style="color: #BB0000;">NA</span>            1<span style="text-decoration: underline;">733</span>671</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 c698dfcc… 3677… TREMONT  TREMONT   USA   WDJ5556  <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">71</span>116</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3 47b94476… 3668… ORION    ORION     USA   <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">23</span>007</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4 9f555214… 3680… PELICAN  PELICAN   USA   WDJ8253  <span style="color: #BB0000;">NA</span>             <span style="text-decoration: underline;">319</span>425</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     4 15cea26f… 3680… PELICAN  PELICAN   USA   <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>                407</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     5 0dddd2a8… 3673… SHAMROCK SHAMROCK  USA   WDD8722  <span style="color: #BB0000;">NA</span>               <span style="text-decoration: underline;">2</span>720</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     5 695b254f… 3673… SHAMROCK SHAMROCK  USA   <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>                477</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     5 ac994bda… 3673… <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>        USA   WDD8722  <span style="color: #BB0000;">NA</span>               <span style="text-decoration: underline;">3</span>179</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     6 bc29946f… 3667… ALEX     ALEX      USA   WDA2216  <span style="color: #BB0000;">NA</span>             <span style="text-decoration: underline;">839</span>719</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>     6 8d68317d… 3667… ALEX     ALEX      USA   <span style="color: #BB0000;">NA</span>       <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">46</span>135</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 6,434 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: positionsCounter &lt;int&gt;, sourceCode &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   matchFields &lt;chr&gt;, transmissionDateFrom &lt;chr&gt;, transmissionDateTo &lt;chr&gt;</span></span></span></code></pre></div>
<p>To fetch events for this list of vessels, we will use the
<code>vesselId</code> column and send it to the <code>vessels</code>
parameter in <code><a href="../reference/get_event.html">get_event()</a></code> function.</p>
<p>For clarity, we should try to send groups of <code>vesselIds</code>
that belong to the same vessels. For this, we can check the
<code>index</code> column in the <code>$selfReportedInfo</code>
dataset.</p>
<blockquote>
<p><em>Note</em>: <code><a href="../reference/get_event.html">get_event()</a></code> can receive several
<code>vesselIds</code> at a time but will fail when the character length
of the whole request is too long (~100,000 characters). This means it
will fail with error <strong>HTTP 422: Unprocessable entity</strong>
when too many <code>vesselIds</code> are requested, this value can be
around 2,800 <code>vesselIds</code> depending on the other parameters of
the search.</p>
</blockquote>
<p>For this example, we will send the <code>vesselIds</code>
corresponding to the first twenty vessels in the response:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">each_USA_trawler</span> <span class="op">&lt;-</span> <span class="va">usa_trawlers</span><span class="op">$</span><span class="va">selfReportedInfo</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"index"</span>, <span class="st">"vesselId"</span><span class="op">)</span><span class="op">]</span> </span>
<span><span class="co"># how many vessels correspond to the first twenty vessels. </span></span>
<span><span class="op">(</span><span class="va">twenty_usa_trawlers</span> <span class="op">&lt;-</span> <span class="va">each_USA_trawler</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">index</span> <span class="op">&lt;=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 48 × 2</span></span></span>
<span><span class="co">#&gt;    index vesselId                             </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 64907178b-b02a-f401-afa1-b3a099d7a142</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 c698dfcc5-5c85-9329-b1ac-8b3656ea9233</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3 47b944765-5819-b2ab-8c2e-cfc82bd2e82c</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4 9f5552145-50ed-92f4-4514-5177b1a6511d</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     4 15cea26f5-57ad-acac-4cbf-b45cefb7ab04</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     5 0dddd2a83-3626-24f1-0fe6-3c4d45bbb409</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     5 695b254f7-7e6c-ff50-dc63-55139d9e0101</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     5 ac994bdab-b59c-9fcc-659e-40179e5dddfb</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     6 bc29946f2-2b0b-9613-054a-cd59327226d9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>     6 8d68317d6-6610-59c4-c99a-ef4cd41acd1a</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 38 more rows</span></span></span></code></pre></div>
<p>There are 48 <code>vesselIds</code> corresponding to those 20
vessels.</p>
<p>Let’s pass the vector of <code>vesselIds</code> to Events API. Now
get the list of fishing events for these trawlers in January, 2020:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">events</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_event.html">get_event</a></span><span class="op">(</span>event_type <span class="op">=</span> <span class="st">'FISHING'</span>,</span>
<span>                    vessels <span class="op">=</span> <span class="va">twenty_usa_trawlers</span><span class="op">$</span><span class="va">vesselId</span>,</span>
<span>                    start_date <span class="op">=</span> <span class="st">"2020-01-01"</span>, </span>
<span>                    end_date <span class="op">=</span> <span class="st">"2020-02-01"</span>, </span>
<span>                    key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Downloading 37 events from GFW"</span></span>
<span><span class="va">events</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 37 × 16</span></span></span>
<span><span class="co">#&gt;    start               end                 eventId        eventType   lat    lon</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2020-01-06 <span style="color: #949494;">07:35:06</span> 2020-01-06 <span style="color: #949494;">10:20:02</span> 47bbfb7d2f0ee… fishing    45.9 -<span style="color: #BB0000;">124.</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2020-01-03 <span style="color: #949494;">07:38:49</span> 2020-01-03 <span style="color: #949494;">18:22:45</span> e67a584f28389… fishing    37.9 -<span style="color: #BB0000;">123.</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2020-01-14 <span style="color: #949494;">23:39:33</span> 2020-01-15 <span style="color: #949494;">01:16:19</span> a8b50bdbf3713… fishing    37.8  -<span style="color: #BB0000;">74.2</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2020-01-01 <span style="color: #949494;">07:39:30</span> 2020-01-01 <span style="color: #949494;">09:07:29</span> 732395ad9c1ea… fishing    43.7 -<span style="color: #BB0000;">124.</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2020-01-31 <span style="color: #949494;">07:58:03</span> 2020-01-31 <span style="color: #949494;">13:32:38</span> ce97b3eedf575… fishing    42.8 -<span style="color: #BB0000;">125.</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2020-01-31 <span style="color: #949494;">15:05:36</span> 2020-01-31 <span style="color: #949494;">21:32:05</span> 32c27b8be6040… fishing    43.0 -<span style="color: #BB0000;">125.</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2020-01-31 <span style="color: #949494;">05:25:15</span> 2020-01-31 <span style="color: #949494;">06:43:40</span> ea857a15cef2e… fishing    42.8 -<span style="color: #BB0000;">125.</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2020-01-29 <span style="color: #949494;">10:01:51</span> 2020-01-29 <span style="color: #949494;">12:21:51</span> 25faed9edb8e8… fishing    42.8 -<span style="color: #BB0000;">125.</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2020-01-30 <span style="color: #949494;">00:52:46</span> 2020-01-30 <span style="color: #949494;">09:01:24</span> 8f926abc98248… fishing    38.0  -<span style="color: #BB0000;">74.0</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2020-01-14 <span style="color: #949494;">00:09:56</span> 2020-01-14 <span style="color: #949494;">07:27:11</span> dc8646fae556a… fishing    38.0  -<span style="color: #BB0000;">74.0</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 27 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 10 more variables: regions &lt;list&gt;, boundingBox &lt;list&gt;, distances &lt;list&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vesselId &lt;chr&gt;, vessel_name &lt;chr&gt;, vessel_ssvid &lt;chr&gt;, vessel_flag &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   vessel_type &lt;chr&gt;, vessel_publicAuthorizations &lt;list&gt;, event_info &lt;list&gt;</span></span></span></code></pre></div>
<p>The columns starting by <code>vessel</code> hold the vessel-related
information for each event: <code>vesselId</code>,
<code>vessel_name</code>, <code>ssvid</code> (MMSI), <code>flag</code>,
<code>vessel type</code> and public authorizations.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">events</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu">starts_with</span><span class="op">(</span><span class="st">"vessel"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 37 × 6</span></span></span>
<span><span class="co">#&gt;    vesselId                     vessel_name vessel_ssvid vessel_flag vessel_type</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 0bc8f5c22-27d2-92d9-a979-2a… GRANADA     367156340    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 47a337946-6ed2-b5b7-adf8-b8… MISTASEA    338200347    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 64907178b-b02a-f401-afa1-b3… SUSAN L     366211560    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 8d68317d6-6610-59c4-c99a-ef… ALEX        366788850    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 454a28f85-56e4-93cb-efa6-ff… BERNADETTE  366233570    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 454a28f85-56e4-93cb-efa6-ff… BERNADETTE  366233570    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 454a28f85-56e4-93cb-efa6-ff… BERNADETTE  366233570    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 454a28f85-56e4-93cb-efa6-ff… BERNADETTE  366233570    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 64907178b-b02a-f401-afa1-b3… SUSAN L     366211560    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 64907178b-b02a-f401-afa1-b3… SUSAN L     366211560    USA         fishing    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 27 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: vessel_publicAuthorizations &lt;list&gt;</span></span></span></code></pre></div>
<p>When no events are available, the <code><a href="../reference/get_event.html">get_event()</a></code> function
returns nothing.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_event.html">get_event</a></span><span class="op">(</span>event_type <span class="op">=</span> <span class="st">'FISHING'</span>,</span>
<span>          vessels <span class="op">=</span> <span class="va">twenty_usa_trawlers</span><span class="op">$</span><span class="va">vesselId</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>,</span>
<span>          start_date <span class="op">=</span> <span class="st">"2020-01-01"</span>,</span>
<span>          end_date <span class="op">=</span> <span class="st">"2020-01-01"</span>,</span>
<span>          key <span class="op">=</span> <span class="va">key</span></span>
<span>          <span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Your request returned zero results"</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="fishing-effort-api">Fishing effort API<a class="anchor" aria-label="anchor" href="#fishing-effort-api"></a>
</h3>
<p>The <code><a href="../reference/get_raster.html">get_raster()</a></code> function gets a raster from the <a href="https://globalfishingwatch.org/our-apis/documentation#map-visualization-4wings-api" class="external-link">4Wings
API</a> and converts the response to a data frame. In order to use it,
you should specify:</p>
<ul>
<li>The spatial resolution, which can be <code>LOW</code> (0.1 degree)
or <code>HIGH</code> (0.01 degree)</li>
<li>The temporal resolution, which can be <code>HOURLY</code>,
<code>DAILY</code>, <code>MONTHLY</code>, <code>YEARLY</code> or
<code>ENTIRE</code>.</li>
<li>The variable to group by: <code>FLAG</code>, <code>GEARTYPE</code>,
<code>FLAGANDGEARTYPE</code>, <code>MMSI</code> or
<code>VESSEL_ID</code>
</li>
<li>The date range <code>note: this must be 366 days or less</code>
</li>
<li>The region polygon in <code>sf</code> format or the region code
(such as an EEZ code) to filter the raster</li>
<li>The source for the specified region. Currently, <code>EEZ</code>,
<code>MPA</code>, <code>RFMO</code> or <code>USER_SHAPEFILE</code> (for
<code>sf</code> shapefiles).</li>
</ul>
<div class="section level4">
<h4 id="user-defined-shapefile">User-defined shapefile<a class="anchor" aria-label="anchor" href="#user-defined-shapefile"></a>
</h4>
<p>You can load an sf shapefile with your area of interest and fetch
fishing effort for this area using
<code>region_source = 'USER_SHAPEFILE'</code> and
<code>region = [YOUR_SHAPE]</code>. We added a sample shapefile inside
<code>gfwr</code> to show how <code>'USER_SHAPEFILE'</code> works:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"test_shape"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">test_shape</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 0 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 56.74815 ymin: 0 xmax: 70 ymax: 21.79799</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt;                         geometry</span></span>
<span><span class="co">#&gt; 1 MULTIPOLYGON (((70 15.20471...</span></span>
<span></span>
<span><span class="fu"><a href="../reference/get_raster.html">get_raster</a></span><span class="op">(</span></span>
<span>  spatial_resolution <span class="op">=</span> <span class="st">'LOW'</span>,</span>
<span>  temporal_resolution <span class="op">=</span> <span class="st">'YEARLY'</span>,</span>
<span>  group_by <span class="op">=</span> <span class="st">'FLAG'</span>,</span>
<span>  start_date <span class="op">=</span> <span class="st">'2021-01-01'</span>,</span>
<span>  end_date <span class="op">=</span> <span class="st">'2021-02-01'</span>,</span>
<span>  region_source <span class="op">=</span> <span class="st">'USER_SHAPEFILE'</span>,</span>
<span>  region <span class="op">=</span> <span class="va">test_shape</span>,</span>
<span>  key <span class="op">=</span> <span class="va">key</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2,618 × 6</span></span></span>
<span><span class="co">#&gt;      Lat   Lon `Time Range` flag  `Vessel IDs` `Apparent Fishing Hours`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>   3.5  65.5         <span style="text-decoration: underline;">2</span>021 LKA              1                     3.98</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  13.3  62.7         <span style="text-decoration: underline;">2</span>021 CHN              1                    12.8 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>   2.9  68.3         <span style="text-decoration: underline;">2</span>021 LKA              3                    27.3 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>   2.8  67.9         <span style="text-decoration: underline;">2</span>021 LKA              1                    14.3 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>   1.9  67.6         <span style="text-decoration: underline;">2</span>021 LKA              1                     1.38</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  12.7  63.5         <span style="text-decoration: underline;">2</span>021 CHN              2                     2.92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  12.6  62.5         <span style="text-decoration: underline;">2</span>021 CHN              2                    13   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   3.3  66.5         <span style="text-decoration: underline;">2</span>021 LKA              1                     2.47</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  12.5  62.9         <span style="text-decoration: underline;">2</span>021 CHN              1                     3.75</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  15.9  62.6         <span style="text-decoration: underline;">2</span>021 CHN              1                     7.66</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2,608 more rows</span></span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="fishing-effort-in-preloaded-eez-rfmos-and-mpas">Fishing effort in preloaded EEZ, RFMOs and MPAs<a class="anchor" aria-label="anchor" href="#fishing-effort-in-preloaded-eez-rfmos-and-mpas"></a>
</h4>
<p>If you want raster data from a particular EEZ, you can use the
<code><a href="../reference/get_region_id.html">get_region_id()</a></code> function to get the EEZ id, and enter that
code in the <code>region</code> argument of <code><a href="../reference/get_raster.html">get_raster()</a></code>
instead of the region shapefile (with
<code>region_source = "EEZ"</code>):</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># use EEZ function to get EEZ code of Cote d'Ivoire</span></span>
<span><span class="va">code_eez</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_region_id.html">get_region_id</a></span><span class="op">(</span>region_name <span class="op">=</span> <span class="st">'CIV'</span>, region_source <span class="op">=</span> <span class="st">'EEZ'</span>, key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/get_raster.html">get_raster</a></span><span class="op">(</span>spatial_resolution <span class="op">=</span> <span class="st">'LOW'</span>,</span>
<span>           temporal_resolution <span class="op">=</span> <span class="st">'YEARLY'</span>,</span>
<span>           group_by <span class="op">=</span> <span class="st">'FLAG'</span>,</span>
<span>           start_date <span class="op">=</span> <span class="st">"2021-01-01"</span>,</span>
<span>           end_date <span class="op">=</span> <span class="st">"2021-10-01"</span>,</span>
<span>           region <span class="op">=</span> <span class="va">code_eez</span><span class="op">$</span><span class="va">id</span>,</span>
<span>           region_source <span class="op">=</span> <span class="st">'EEZ'</span>,</span>
<span>           key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 577 × 6</span></span></span>
<span><span class="co">#&gt;      Lat   Lon `Time Range` flag  `Vessel IDs` `Apparent Fishing Hours`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>   4.7  -<span style="color: #BB0000;">5.8</span>         <span style="text-decoration: underline;">2</span>021 CHN              1                     3.62</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>   1.7  -<span style="color: #BB0000;">5.6</span>         <span style="text-decoration: underline;">2</span>021 BLZ              1                     0.39</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>   4    -<span style="color: #BB0000;">3.6</span>         <span style="text-decoration: underline;">2</span>021 BES              1                     2.99</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>   3.1  -<span style="color: #BB0000;">4</span>           <span style="text-decoration: underline;">2</span>021 FRA              1                     5.1 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>   2.6  -<span style="color: #BB0000;">4.3</span>         <span style="text-decoration: underline;">2</span>021 FRA              1                     0.09</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>   4.1  -<span style="color: #BB0000;">5.7</span>         <span style="text-decoration: underline;">2</span>021 BLZ              1                     0.55</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>   5.2  -<span style="color: #BB0000;">4.1</span>         <span style="text-decoration: underline;">2</span>021 CHN              1                     2.95</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   3.8  -<span style="color: #BB0000;">5.4</span>         <span style="text-decoration: underline;">2</span>021 BLZ              1                     1.43</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>   1.6  -<span style="color: #BB0000;">6.7</span>         <span style="text-decoration: underline;">2</span>021 GHA              1                     1.51</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>   5.3  -<span style="color: #BB0000;">4</span>           <span style="text-decoration: underline;">2</span>021 SLV              3                    19   </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 567 more rows</span></span></span></code></pre></div>
<p>You could search for just one word in the name of the EEZ and then
decide which one you want:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="fu"><a href="../reference/get_region_id.html">get_region_id</a></span><span class="op">(</span>region_name <span class="op">=</span> <span class="st">'France'</span>, region_source <span class="op">=</span> <span class="st">'EEZ'</span>, key <span class="op">=</span> <span class="va">key</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">#&gt;      id label                            iso3 </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">5</span>677 France                           FRA  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> <span style="text-decoration: underline;">48</span>966 Joint regime area Spain / France FRA  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> <span style="text-decoration: underline;">48</span>976 Joint regime area Italy / France FRA</span></span></code></pre></div>
<p>From the results above, let’s say we’re interested in the French
Exclusive Economic Zone, <code>5677</code></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_raster.html">get_raster</a></span><span class="op">(</span>spatial_resolution <span class="op">=</span> <span class="st">'LOW'</span>,</span>
<span>           temporal_resolution <span class="op">=</span> <span class="st">'YEARLY'</span>,</span>
<span>           group_by <span class="op">=</span> <span class="st">'FLAG'</span>,</span>
<span>           start_date <span class="op">=</span> <span class="st">"2021-01-01"</span>,</span>
<span>           end_date <span class="op">=</span> <span class="st">"2021-10-01"</span>,</span>
<span>           region <span class="op">=</span> <span class="fl">5677</span>,</span>
<span>           region_source <span class="op">=</span> <span class="st">'EEZ'</span>,</span>
<span>           key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5,430 × 6</span></span></span>
<span><span class="co">#&gt;      Lat   Lon `Time Range` flag  `Vessel IDs` `Apparent Fishing Hours`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  49.8  -<span style="color: #BB0000;">0.6</span>         <span style="text-decoration: underline;">2</span>021 NLD              6                    16.6 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  45.2  -<span style="color: #BB0000;">2</span>           <span style="text-decoration: underline;">2</span>021 BEL              4                    57.9 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  42.6   3.4         <span style="text-decoration: underline;">2</span>021 FRA              6                    42.7 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  45.1  -<span style="color: #BB0000;">3.4</span>         <span style="text-decoration: underline;">2</span>021 ESP             21                    96.2 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  51.2   2.1         <span style="text-decoration: underline;">2</span>021 BEL              3                    19.9 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  48.7  -<span style="color: #BB0000;">4.2</span>         <span style="text-decoration: underline;">2</span>021 FRA              1                     1.01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  49.9  -<span style="color: #BB0000;">1.7</span>         <span style="text-decoration: underline;">2</span>021 BEL              1                     1.71</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  46.2  -<span style="color: #BB0000;">3.9</span>         <span style="text-decoration: underline;">2</span>021 FRA              7                    45.4 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  44.8  -<span style="color: #BB0000;">1.8</span>         <span style="text-decoration: underline;">2</span>021 ESP              9                    54.1 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  47.1  -<span style="color: #BB0000;">2.6</span>         <span style="text-decoration: underline;">2</span>021 FRA             14                   166.  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5,420 more rows</span></span></span></code></pre></div>
<p>A similar approach can be used to search for a specific Marine
Protected Area, in this case the Phoenix Island Protected Area
(PIPA)</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># use region id function to get MPA code of Phoenix Island Protected Area</span></span>
<span><span class="va">code_mpa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_region_id.html">get_region_id</a></span><span class="op">(</span>region_name <span class="op">=</span> <span class="st">'Phoenix'</span>,</span>
<span>                          region_source <span class="op">=</span> <span class="st">'MPA'</span>,</span>
<span>                          key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/get_raster.html">get_raster</a></span><span class="op">(</span>spatial_resolution <span class="op">=</span> <span class="st">'LOW'</span>,</span>
<span>           temporal_resolution <span class="op">=</span> <span class="st">'YEARLY'</span>,</span>
<span>           group_by <span class="op">=</span> <span class="st">'FLAG'</span>,</span>
<span>           start_date <span class="op">=</span> <span class="st">"2015-01-01"</span>,</span>
<span>           end_date <span class="op">=</span> <span class="st">"2015-06-01"</span>,</span>
<span>           region <span class="op">=</span> <span class="va">code_mpa</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span>
<span>           region_source <span class="op">=</span> <span class="st">'MPA'</span>,</span>
<span>           key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 38 × 6</span></span></span>
<span><span class="co">#&gt;      Lat   Lon `Time Range` flag  `Vessel IDs` `Apparent Fishing Hours`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  -<span style="color: #BB0000;">3.6</span> -<span style="color: #BB0000;">176.</span>         <span style="text-decoration: underline;">2</span>015 KOR              1                     1.98</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  -<span style="color: #BB0000;">2.6</span> -<span style="color: #BB0000;">176.</span>         <span style="text-decoration: underline;">2</span>015 KOR              1                    13.9 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  -<span style="color: #BB0000;">3</span>   -<span style="color: #BB0000;">176.</span>         <span style="text-decoration: underline;">2</span>015 FSM              1                     2.16</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  -<span style="color: #BB0000;">4.1</span> -<span style="color: #BB0000;">176.</span>         <span style="text-decoration: underline;">2</span>015 KOR              1                     1.57</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  -<span style="color: #BB0000;">2.9</span> -<span style="color: #BB0000;">176.</span>         <span style="text-decoration: underline;">2</span>015 FSM              1                     5.09</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  -<span style="color: #BB0000;">3.6</span> -<span style="color: #BB0000;">176.</span>         <span style="text-decoration: underline;">2</span>015 KIR              1                     6.07</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  -<span style="color: #BB0000;">2.8</span> -<span style="color: #BB0000;">176.</span>         <span style="text-decoration: underline;">2</span>015 KOR              1                    10.4 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  -<span style="color: #BB0000;">3.5</span> -<span style="color: #BB0000;">176.</span>         <span style="text-decoration: underline;">2</span>015 KOR              1                     3.11</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  -<span style="color: #BB0000;">1</span>   -<span style="color: #BB0000;">170.</span>         <span style="text-decoration: underline;">2</span>015 KOR              1                     2.39</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  -<span style="color: #BB0000;">4.7</span> -<span style="color: #BB0000;">176.</span>         <span style="text-decoration: underline;">2</span>015 KOR              2                    13.7 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 28 more rows</span></span></span></code></pre></div>
<p>It is also possible to filter rasters to regional fisheries
management organizations (RFMO) like <code>"ICCAT"</code>,
<code>"IATTC"</code>, <code>"IOTC"</code>, <code>"CCSBT"</code> and
<code>"WCPFC"</code>.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_raster.html">get_raster</a></span><span class="op">(</span>spatial_resolution <span class="op">=</span> <span class="st">'LOW'</span>,</span>
<span>           temporal_resolution <span class="op">=</span> <span class="st">'DAILY'</span>,</span>
<span>           group_by <span class="op">=</span> <span class="st">'FLAG'</span>,</span>
<span>           start_date <span class="op">=</span> <span class="st">"2021-01-01"</span>,</span>
<span>           end_date <span class="op">=</span> <span class="st">"2021-01-04"</span>,</span>
<span>           region <span class="op">=</span> <span class="st">'ICCAT'</span>,</span>
<span>           region_source <span class="op">=</span> <span class="st">'RFMO'</span>,</span>
<span>           key <span class="op">=</span> <span class="va">key</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 16,424 × 6</span></span></span>
<span><span class="co">#&gt;      Lat   Lon `Time Range` flag  `Vessel IDs` `Apparent Fishing Hours`</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>  38.9  26.8 2021-01-02   TUR              2                     3   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>  59     0.1 2021-01-03   GBR              2                    13.9 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>  59.9  25.1 2021-01-03   FIN              2                     3   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>  59.9  -<span style="color: #BB0000;">2.8</span> 2021-01-03   GBR              1                     3.32</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>  47.6  -<span style="color: #BB0000;">3</span>   2021-01-02   FRA              1                     2.41</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>  51.4  -<span style="color: #BB0000;">8.9</span> 2021-01-02   IRL              1                     0.79</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>  58.9  10.6 2021-01-03   SWE              1                     0.58</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>  38.7  26.7 2021-01-03   TUR              1                    13.4 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>  15.7 -<span style="color: #BB0000;">29.7</span> 2021-01-03   JPN              1                     1.09</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>  11.8 -<span style="color: #BB0000;">16.8</span> 2021-01-03   KOR              1                     0.88</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 16,414 more rows</span></span></span></code></pre></div>
<blockquote>
<p><em>Note</em>: For a complete list of MPAs, RFMOs and EEZ, check the
function <code><a href="../reference/get_regions.html">get_regions()</a></code></p>
</blockquote>
<p>The <code><a href="../reference/get_region_id.html">get_region_id()</a></code> function also works in reverse. If a
region id is passed as a <code>numeric</code> to the function as the
<code>region_name</code>, the corresponding region label or iso3 code
can be returned. This is especially useful when events are returned with
regions.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># using same example as above</span></span>
<span><span class="fu"><a href="../reference/get_event.html">get_event</a></span><span class="op">(</span>event_type <span class="op">=</span> <span class="st">'FISHING'</span>,</span>
<span>          vessels <span class="op">=</span> <span class="va">twenty_usa_trawlers</span><span class="op">$</span><span class="va">vesselId</span>,</span>
<span>          start_date <span class="op">=</span> <span class="st">"2020-01-01"</span>,</span>
<span>          end_date <span class="op">=</span> <span class="st">"2020-02-01"</span>,</span>
<span>          key <span class="op">=</span> <span class="va">key</span></span>
<span>          <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co"># extract EEZ id code</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>eez <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">regions</span>, <span class="fu">purrr</span><span class="fu">::</span><span class="va"><a href="https://purrr.tidyverse.org/reference/pluck.html" class="external-link">pluck</a></span>, <span class="st">'eez'</span><span class="op">)</span>,</span>
<span>               <span class="va">paste0</span>, collapse <span class="op">=</span> <span class="st">','</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">eventId</span>, <span class="va">eventType</span>, <span class="va">start</span>, <span class="va">end</span>, <span class="va">lat</span>, <span class="va">lon</span>, <span class="va">eez</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html" class="external-link">rowwise</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>eez_name <span class="op">=</span> <span class="fu"><a href="../reference/get_region_id.html">get_region_id</a></span><span class="op">(</span>region_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">eez</span><span class="op">)</span>,</span>
<span>                                         region_source <span class="op">=</span> <span class="st">'EEZ'</span>,</span>
<span>                                         key <span class="op">=</span> <span class="va">key</span><span class="op">)</span><span class="op">$</span><span class="va">label</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">start</span>, <span class="op">-</span><span class="va">end</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Downloading 37 events from GFW"</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 37 × 6</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Rowwise: </span></span></span>
<span><span class="co">#&gt;    eventId                          eventType   lat    lon eez   eez_name     </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 47bbfb7d2f0ee76f1f6789a163639ec3 fishing    45.9 -<span style="color: #BB0000;">124.</span>  8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> e67a584f28389a843e98d17b063570c7 fishing    37.9 -<span style="color: #BB0000;">123.</span>  8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> ce97b3eedf575b960a40fe9437ef8477 fishing    42.8 -<span style="color: #BB0000;">125.</span>  8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 32c27b8be60405dd20d344325b298d04 fishing    43.0 -<span style="color: #BB0000;">125.</span>  8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> ea857a15cef2ef00df6b4645d4e7f699 fishing    42.8 -<span style="color: #BB0000;">125.</span>  8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 25faed9edb8e8e2b7098fb6d55d5fbb4 fishing    42.8 -<span style="color: #BB0000;">125.</span>  8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> a8b50bdbf3713e47b131f203abc7a339 fishing    37.8  -<span style="color: #BB0000;">74.2</span> 8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 8f926abc98248f6f1090bae0ece11271 fishing    38.0  -<span style="color: #BB0000;">74.0</span> 8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> dc8646fae556a4fd14b3083ea57a6cfe fishing    38.0  -<span style="color: #BB0000;">74.0</span> 8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> e77d4c67e09568bf6d21806a8b685527 fishing    38.0  -<span style="color: #BB0000;">73.9</span> 8456  United States</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 27 more rows</span></span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="when-your-api-request-times-out">When your API request times out<a class="anchor" aria-label="anchor" href="#when-your-api-request-times-out"></a>
</h4>
<p>For API performance reasons, the <code><a href="../reference/get_raster.html">get_raster()</a></code> function
restricts individual queries to a single year of data. However, even
with this restriction, it is possible for API request to time out before
it completes. When this occurs, the initial <code><a href="../reference/get_raster.html">get_raster()</a></code>
call will return an HTTP 524 error, and subsequent API requests using
any <code>gfwr</code> <code>get_</code> function will return an HTTP 429
error until the original request completes:</p>
<blockquote>
<p>Error in <code><a href="https://httr2.r-lib.org/reference/req_perform.html" class="external-link">httr2::req_perform()</a></code>: ! HTTP 429 Too Many
Requests. • Your application token is not currently enabled to perform
more than one concurrent report. If you need to generate more than one
report concurrently, contact us at <a href="mailto:apis@globalfishingwatch.org" class="email">apis@globalfishingwatch.org</a></p>
</blockquote>
<p>Although no data was received, the request is still being processed
by the APIs and will become available when it completes. To account for
this, <code>gfwr</code> includes the <code><a href="../reference/get_last_report.html">get_last_report()</a></code>
function, which lets users request the results of their last API request
with <code><a href="../reference/get_raster.html">get_raster()</a></code>.</p>
<p>The <code><a href="../reference/get_last_report.html">get_last_report()</a></code> function will tell you if the APIs
are still processing your request and will download the results if the
request has finished successfully. You will receive an error message if
the request finished but resulted in an error or if it’s been &gt;30
minutes since the last report was generated using
<code><a href="../reference/get_raster.html">get_raster()</a></code>. For more information, see the <a href="https://globalfishingwatch.org/our-apis/documentation#get-last-report-generated" class="external-link">Get
last report generated endpoint</a> documentation on the GFW API
page.</p>
</div>
</div>
<div class="section level3">
<h3 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h3>
<p>We welcome all contributions to improve the package! Please read our
<a href="https://github.com/GlobalFishingWatch/gfwr/blob/main/Contributing.md" class="external-link">Contribution
Guide</a> and reach out!</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Tyler Clavelle, Rocío Joo, Nate Miller, Andrea Sánchez-Tapia.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>




  <!-- inserted at the end of the body -->

  </body>
</html>
